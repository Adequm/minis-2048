(function(e){function t(t){for(var i,a,o=t[0],c=t[1],u=t[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);l&&l(t);while(d.length)d.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},s={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/minis-2048/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"229b":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",style:{height:e.innerHeight+"px",maxWidth:e.isDesktop?e.containerWidth+"px":"100vw",maxHeight:e.isDesktop?e.containerHeight+"px":"100vh"}},[e.isPageLoad?n("div",{staticClass:"minis__wrapper"},[e.isDesktop?n("SettingsDesktop",{attrs:{themeIcon:e.themeMain.icon},on:{switchTheme:e.switchTheme,switchLang:e.switchLang,switchFullscreen:function(t){e.isFullscreen=!e.isFullscreen}},model:{value:e.isClosedSettings,callback:function(t){e.isClosedSettings=t},expression:"isClosedSettings"}}):e._e(),n("LayoutContent",{ref:"layoutContent",style:{filter:e.openedModalName?"blur(2px)":"none"},attrs:{appWidth:e.appWidth,appHeight:e.appHeight,bodyHeight:e.innerHeight,isDesktop:e.isDesktop,isWidthMore768:e.isWidthMore768},on:{switchSettings:function(t){e.isClosedSettings=!e.isClosedSettings},openModal:function(t){e.openedModalName=t}}}),n("AppModal",{model:{value:e.openedModalName,callback:function(t){e.openedModalName=t},expression:"openedModalName"}},["settings"==e.openedModalName?n("SettingsMobile",{attrs:{themeIcon:e.themeMain.icon,isWidthMore768:e.isWidthMore768},on:{switchTheme:e.switchTheme,switchLang:e.switchLang,switchFullscreen:function(t){e.isFullscreen=!e.isFullscreen}}}):e._e(),"endgame"==e.openedModalName?n("div",{staticClass:"endgame-modal"},[e.currentScore>=e.maxScore?n("h4",{domProps:{textContent:e._s(e.translate("modal.newRecord"))}}):e._e(),n("h2",{domProps:{textContent:e._s(e.currentScore)}})]):e._e()],1),e.isDesktop?n("div",{staticClass:"resize_button",on:{mousedown:function(t){return t.preventDefault(),e.startResize.apply(null,arguments)},dblclick:function(t){return t.preventDefault(),e.autoResize.apply(null,arguments)}}}):e._e(),e.isDesktop?n("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[e._v("Minis")]):e._e()],1):n("Icon",{staticClass:"loader",attrs:{type:"time-oclock",size:100,rotate:""}})],1)},r=[],a=n("5530"),o=n("2ef0"),c=n.n(o),u=n("1da1"),l=n("3835"),h=(n("96cf"),n("07ac"),n("d3b7"),n("159b"),n("4fad"),n("2f62")),d={name:"App",data:function(){return{isPageLoad:!1}},watch:{translateOfMinis:{deep:!0,immediate:!0,handler:function(e){Object.values(e).length&&(document.title=this.translate("title"))}},themeMain:{deep:!0,handler:"themeMainInit"},themeSpecial:{deep:!0,handler:"themeSpecialInit"},themesJSON:{deep:!0,handler:"themesJSONInit"}},computed:Object(a["a"])(Object(a["a"])({},Object(h["b"])(["themeMain","themeSpecialName","themeSpecial"])),Object(h["d"])({minisTheme:function(e){return e.minis.minisTheme},minisLang:function(e){return e.minis.minisLang},themesJSON:function(e){return e.minis.themesJSON},minisJSON:function(e){return e.minis.minisJSON},translateJSON:function(e){return e.minis.translateJSON}})),methods:Object(a["a"])(Object(a["a"])({},Object(h["c"])({switchTheme:function(e,t){return e("switchTheme",t)},switchLang:function(e,t){return e("switchLang",t)},initMinis:function(e,t){return e("initMinis",t)}})),{},{themeMainInit:function(){if(!this.themeMain)return this.switchTheme("main");Object.entries(this.themeMain.colors).forEach((function(e){var t=Object(l["a"])(e,2),n=t[0],i=t[1];document.body.style.setProperty("--".concat(n),i)}))},themeSpecialInit:function(){if(!this.themeSpecial)return this.switchTheme("special");document.body.style.setProperty("--special-color",this.themeSpecial.normal)},themesJSONInit:function(){Object.entries(this.themesJSON.default||[]).forEach((function(e){var t=Object(l["a"])(e,2),n=t[0],i=t[1];document.body.style.setProperty("--".concat(n,"-color"),i)}))},isExistMinisData:function(){return c.a.size(this.themesJSON)&&c.a.size(this.minisJSON)&&c.a.size(this.translateJSON)},getMinisOptions:function(){var e=this,t="https://adequm.github.io/minis";return new Promise(function(){var n=Object(u["a"])(regeneratorRuntime.mark((function n(i){var s,r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(t,"/translateJSON.json")).then((function(e){return e.json()}));case 3:return s=n.sent,n.next=6,fetch("".concat(t,"/minisJSON.json")).then((function(e){return e.json()}));case 6:return r=n.sent,n.next=9,fetch("".concat(t,"/themesJSON.json")).then((function(e){return e.json()}));case 9:a=n.sent,i({translateJSON:s,minisJSON:r,themesJSON:a}),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),setTimeout(Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isExistMinisData()&&(e.themeMainInit(),e.themeSpecialInit(),e.themesJSONInit(),e.isPageLoad=!0),t.next=3,e.getMinisOptions();case 3:n=t.sent,i(n);case 5:case"end":return t.stop()}}),t)}))),2e3);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}())}}),created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getMinisOptions();case 2:n=t.sent,e.initMinis(n),e.isPageLoad=!0;case 5:case"end":return t.stop()}}),t)})))()}},m={data:function(){return{minContainerWidth:300,minContainerHeight:560,containerWidth:null,containerHeight:null,innerHeight:null,innerWidth:null,startResizeX:null,startResizeY:null,startResizeWidth:null,startResizeHeight:null,resizeHash:null,onInputFocus:!1,isFullscreen:!1}},watch:{isFullscreen:"resizeContainer",innerHeight:"resizeContainer",innerWidth:"resizeContainer"},computed:{isWidthMore768:function(e){return e.innerWidth>=768},isDesktop:function(e){return e.isWidthMore768&&!e.isFullscreen},appWidth:function(e){return e.isDesktop?e.containerWidth:e.innerWidth},appHeight:function(e){return e.isDesktop?e.containerHeight:e.innerHeight},maxContainerWidth:function(e){return e.innerWidth-180},maxContainerHeight:function(e){return e.innerHeight-100},isMinContainerWidth:function(e){return e.containerWidth===e.minContainerWidth},isMaxContainerWidth:function(e){return e.containerWidth===e.maxContainerWidth},isMinContainerHeight:function(e){return e.containerHeight===e.minContainerHeight},isMaxContainerHeight:function(e){return e.containerHeight===e.maxContainerHeight}},methods:{resizeContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.containerWidth,n=this.minContainerWidth,i=this.maxContainerWidth,s=this.containerHeight,r=this.minContainerHeight,a=this.maxContainerHeight;this.containerWidth=c.a.clamp(e.containerWidth||t,n,i),this.containerHeight=c.a.clamp(e.containerHeight||s,r,a)},setContainerSize:function(e){var t=this,n=e.pageX,i=e.pageY;requestAnimationFrame((function(){if(!c.a.isNull(t.startResizeX)&&!c.a.isNull(t.startResizeWidth)&&!c.a.isNull(t.startResizeY)&&!c.a.isNull(t.startResizeHeight)){var e=2*(n-t.startResizeX)+t.startResizeWidth,s=2*(i-t.startResizeY)+t.startResizeHeight;t.resizeContainer({containerWidth:e,containerHeight:s})}}))},startResize:function(e){this.startResizeX=e.pageX,this.startResizeY=e.pageY,this.startResizeWidth=this.containerWidth,this.startResizeHeight=this.containerHeight,document.addEventListener("mousemove",this.setContainerSize),document.addEventListener("mouseup",this.stopResize),window.addEventListener("mouseleave",this.stopResize),window.addEventListener("click",this.stopResize),window.addEventListener("contextmenu",this.stopResize)},stopResize:function(){this.startResizeX=null,this.startResizeY=null,this.startResizeWidth=null,this.startResizeHeight=null,document.removeEventListener("mousemove",this.setContainerSize),document.removeEventListener("mouseup",this.stopResize),window.removeEventListener("mouseleave",this.stopResize),window.removeEventListener("click",this.stopResize),window.removeEventListener("contextmenu",this.stopResize)},autoResize:function(){var e=this.isMinContainerWidth&&this.isMinContainerHeight;this.resizeContainer({containerWidth:e?this.maxContainerWidth:this.minContainerWidth,containerHeight:e?this.maxContainerHeight:this.minContainerHeight})}},beforeMount:function(){var e=this,t=function(){e.innerWidth=document.body.offsetWidth,e.onInputFocus||(e.innerHeight=innerHeight)};t(),window.addEventListener("resize",t),setInterval(t,1e3)}},p=(n("ac1f"),n("1276"),n("cb29"),n("99af"),n("e9c4"),{watch:{themeHash:{immediate:!0,handler:function(){var e=this,t=new Image,n=location.pathname.split("/")[1];t.src="/".concat(n,"/icon.svg"),t.addEventListener("load",(function(){[16,32].forEach((function(n){var i,s=document.createElement("canvas");s.height=n,s.width=n;var r=s.getContext("2d");r.beginPath(),r.drawImage(t,0,0,n,n),r.globalCompositeOperation="source-in",r.rect(0,0,n,n),r.fillStyle=null===(i=e.themeSpecial)||void 0===i?void 0:i.normal,r.fill();var a=document.querySelector('link[sizes="'.concat(n,"x").concat(n,'"]'));a.setAttribute("href",s.toDataURL())}))}))}}},computed:Object(a["a"])(Object(a["a"])({},Object(h["b"])(["themeSpecial","themeMain"])),{},{themeHash:function(){return JSON.stringify(this.themeSpecial)+JSON.stringify(this.themeMain)}})}),f={computed:Object(a["a"])(Object(a["a"])(Object(a["a"])({},Object(h["d"])(["projectKey"])),Object(h["d"])({minisLang:function(e){return e.minis.minisLang},translateJSON:function(e){return e.minis.translateJSON}})),{},{translateOfMinis:function(e){var t=e.translateJSON,n=e.minisLang,i=e.projectKey;return c.a.get(null===t||void 0===t?void 0:t[n],i,{})},translateErrorMessage:function(e){var t=e.translateJSON,n=e.minisLang;return c.a.get(null===t||void 0===t?void 0:t[n],"default.error","%err%")},translate:function(e){var t=e.translateErrorMessage,n=e.translateOfMinis;return function(e,i){return c.a.get(n,e,i||t)}},translateDef:function(e){var t=e.translateJSON,n=e.minisLang,i=e.translateErrorMessage;return function(e,s){var r;return c.a.get(null===t||void 0===t||null===(r=t[n])||void 0===r?void 0:r.default,e,s||i)}},translateChain:function(e){var t=e.translateJSON,n=e.minisLang,i=e.translateErrorMessage;return function e(t,n,s){var r=n||c.a.isNumber(n)?c.a.get(t,n,s||i):t;return function(t,n){return t?e(r,t,n):r}}(null===t||void 0===t?void 0:t[n])}})},g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon",attrs:{"area-text":e.text,side:e.side},on:{click:function(t){return e.$emit("click",t)}}},[n("i",{class:["fi fi-"+e.border+"-"+e.type,{rotate:e.rotate}],style:{fontSize:e.size+"px",maxHeight:e.size+"px",maxWidth:e.size+"px",lineHeight:1}})])},v=[],b=(n("a9e3"),{name:"Icon",props:{type:String,size:{type:Number,default:20},border:{type:String,default:"rs"},text:String,side:{type:String,default:"left"},rotate:{type:Boolean,default:!1}}}),S=b,y=(n("e59a"),n("2877")),w=Object(y["a"])(S,g,v,!1,null,"27d701bb",null),O=w.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings",class:{isClosedSettings:e.value}},[n("Icon",{attrs:{type:"settings",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("input",!e.value)}}}),n("Icon",{attrs:{type:e.themeIcon,size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","main")}}}),n("Icon",{attrs:{type:"palette",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","special")}}}),n("Icon",{attrs:{type:"globe",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchLang")}}}),n("Icon",{attrs:{type:"expand-arrows-alt",size:22},on:{click:function(t){return t.preventDefault(),e.$emit("switchFullscreen")}}})],1)},C=[],x={name:"SettingsDesktop",components:{Icon:O},props:{themeIcon:String,value:Boolean}},k=x,N=(n("f937"),Object(y["a"])(k,M,C,!1,null,"cd2b87c0",null)),z=N.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"settings",class:{isClosedSettings:e.value}},[n("Icon",{attrs:{type:e.themeIcon,size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","main")}}}),n("Icon",{attrs:{type:"palette",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchTheme","special")}}}),n("Icon",{attrs:{type:"globe",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchLang")}}}),e.isWidthMore768?n("Icon",{attrs:{type:"compress-alt",size:30},on:{click:function(t){return t.preventDefault(),e.$emit("switchFullscreen")}}}):e._e(),n("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[n("Icon",{attrs:{type:"home",size:30}})],1)],1)},R=[],H={name:"SettingsMobile",components:{Icon:O},props:{themeIcon:String,value:Boolean,isWidthMore768:Boolean}},_=H,L=(n("72b7"),Object(y["a"])(_,j,R,!1,null,"0335f584",null)),T=L.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.value?n("div",{staticClass:"modal"},[n("div",{staticClass:"modal__background",on:{click:function(t){return e.$emit("input",null)}}}),n("div",{staticClass:"modal__content"},[e._t("default")],2)]):e._e()},J=[],E={name:"AppModal",props:{value:String}},D=E,I=(n("6dbd"),Object(y["a"])(D,W,J,!1,null,"14494698",null)),$=I.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"minis__content",style:{minHeight:e.appHeight+"px",gridTemplateRows:e.gridTemplateRows}},[n("Navigation",{staticStyle:{height:"100%","padding-bottom":"0"},attrs:{isDesktop:e.isDesktop,score:e.currentScore,maxScore:e.maxScore,gameType:e.gameType},on:{openModal:function(t){return e.$emit("openModal",t)},switchGameType:e.switchGameType}}),n("Layout2048",{ref:"game2048",attrs:{rows:e.rowsMount,cols:e.colsMount,width:e.gridWidth+"px",height:e.gridHeight+"px",gameType:e.gameType},on:{updateScore:e.setCurrentScore,gameover:function(t){e.$emit("openModal","endgame")&&e.setMaxScore(e.currentScore)}}})],1)},P=[],F=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.hash,staticClass:"grid",style:{height:e.height,width:e.width}},e._l(e.rows,(function(t){return n("div",{key:t,staticClass:"row"},e._l(e.cols,(function(i){return n("div",{key:i,staticClass:"cell",class:[e.gameType],attrs:{"area-num":e.grid[t-1][i-1]}})})),0)})),0)},X=[],Y=(n("ddb0"),n("fb6a"),n("7db0"),{name:"Layout2048",props:{rows:Number,cols:Number,width:String,height:String,gameType:String},data:function(){return{lodash:c.a,grid:{},emptyGrid:{},hash:null,usedCells:{}}},watch:{hash:function(){var e=this;i["a"].set(this,"emptyGrid",{}),c.a.times(this.rows,(function(t){c.a.times(e.cols,(function(n){if(!e.grid[t][n]){var s=c.a.get(e.emptyGrid,t,{});i["a"].set(s,n,null),i["a"].set(e.emptyGrid,t,s)}}))}))},score:function(e){e&&this.$emit("updateScore",e)}},computed:{score:function(){return c.a.chain(this.grid).flatMapDeep((function(e){return c.a.values(e)})).sum().value()}},methods:{startGame:function(){var e=this;i["a"].set(this,"grid",{}),c.a.times(this.rows,(function(t){c.a.times(e.cols,(function(n){var s=c.a.get(e.grid,t,{});i["a"].set(s,n,null),i["a"].set(e.grid,t,s)}))})),this.hash=JSON.stringify(this.grid)},endGame:function(){this.$emit("gameover"),this.startGame()},getRandomCell:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;this.$nextTick((function(){c.a.times(t,(function(t){if(!c.a.size(e.emptyGrid))return e.endGame();var n=c.a.sample(c.a.keys(e.emptyGrid)),s=e.emptyGrid[n],r=c.a.sample(c.a.keys(s));i["a"].set(e.grid[n],r,c.a.sample([2,4])),e.hash=JSON.stringify(e.grid),e.checkEndGame()}))}))},move:function(e){this.shiftDefined({left:{isHorizontal:!0},right:{isHorizontal:!0,isReverseX:!0},up:{isVertical:!0},down:{isVertical:!0,isReverseY:!0}}[e])},shiftDefined:function(e){var t=this,n=e.isReverseX,s=e.isReverseY,r=e.isVertical,a=e.isHorizontal,o=c.a.times(c.a.size(this.grid)),u=c.a.times(c.a.size(this.grid[0]));n&&(u=u.reverse()),s&&(o=o.reverse()),c.a.each(o,(function(e,l){if(l||!r)for(var h=function(l){var h,d=u[l],m=t.grid[e][d];if(!l&&a)return"continue";if(!m)return"continue";var p=void 0,f=void 0;if(r){p=d;var g=c.a.cloneDeep(o).reverse().slice(s?e:-e-1);f=c.a.find(g,(function(e,n){var i,s,r,a,o=t.grid[e][d],c=null===(i=t.grid)||void 0===i||null===(s=i[g[n+1]])||void 0===s?void 0:s[d];return!(!c&&n!==g.length-1)&&(!(null===(r=t.usedCells)||void 0===r||null===(a=r[g[n+1]])||void 0===a||!a[d])||(!o&&n===g.length-1||(c!==m||(!(o!=m||!n)||void 0))))}))}if(a){f=e;var v=c.a.cloneDeep(u).reverse().slice(n?d:-d-1);p=c.a.find(v,(function(n,i){var s,r,a=t.grid[e][n],o=t.grid[e][v[i+1]];return!(!o&&i!==v.length-1)&&(!(null===(s=t.usedCells)||void 0===s||null===(r=s[e])||void 0===r||!r[v[i+1]])||(!a&&i===v.length-1||(o!==m||(!(a!=m||!i)||void 0))))}))}var b=t.grid[f][p];i["a"].set(t.grid[e],d,null);var S=b!=m||f===e&&p===d?m:2*b;if(i["a"].set(null===(h=t.grid)||void 0===h?void 0:h[f],p,S),p==d||!b)return"continue";i["a"].set(t.usedCells,f,t.usedCells[f]||{}),i["a"].set(t.usedCells[f],p,!0)},d=0;d<u.length;d++)h(d)}));var l=c.a.clone(this.hash);if(this.hash=JSON.stringify(this.grid),i["a"].set(this,"usedCells",{}),l===this.hash)return this.checkEndGame();this.getRandomCell()},checkEndGame:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!c.a.size(e.emptyGrid)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,new Promise((function(t){c.a.each(e.grid,(function(n,i){c.a.each(n,(function(s,r){var a,o;s==n[r+1]&&t(!1),s==(null===(a=e.grid)||void 0===a||null===(o=a[+i+1])||void 0===o?void 0:o[+r])&&t(!1),i==c.a.size(e.grid)-1&&r==c.a.size(n)-1&&t(!0)}))}))}));case 4:n=t.sent,n&&e.endGame();case 6:case"end":return t.stop()}}),t)})))()}},beforeMount:function(){this.startGame(),this.getRandomCell()}}),A=Y,B=(n("eb40"),Object(y["a"])(A,F,X,!1,null,"ef326000",null)),q=B.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"navigation"},[n("button",{staticClass:"navigation__item nofocus",staticStyle:{cursor:"default"},style:{color:e.headerScoreColor},domProps:{textContent:e._s(e.headerScore)}}),e.isDesktop?e._e():n("button",{staticClass:"navigation__item navigation__item-settings nofocus nohover",on:{click:function(t){return e.$emit("openModal","settings")}}},[n("Icon",{attrs:{type:"settings"}})],1),n("button",{staticClass:"navigation__item",staticStyle:{color:"var(--special-color)"},on:{click:function(t){return e.$emit("switchGameType")}}},[n("Icon",{attrs:{type:e.gameType}})],1)])},V=[],U={name:"Navigation",components:{Icon:O},props:{isDesktop:Boolean,gameType:String,score:Number,maxScore:Number},data:function(){return{lodash:c.a}},computed:{headerScoreColor:function(){var e=c.a.isNumber(this.headerScore)?"special":"text";return"var(--".concat(e,"-color)")},headerScore:function(){return this.score>=this.maxScore?this.score:"".concat(this.score,"/").concat(this.maxScore)}}},Q=U,Z=(n("f5da"),Object(y["a"])(Q,K,V,!1,null,"e0b21084",null)),ee=Z.exports,te={name:"LayoutContent",components:{Layout2048:q,Navigation:ee},props:{appWidth:Number,appHeight:Number,bodyHeight:Number,isDesktop:Boolean,isWidthMore768:Boolean},data:function(){return{lodash:c.a,touchX:null,touchY:null}},computed:Object(a["a"])(Object(a["a"])({},Object(h["d"])(["maxScore","currentScore","gameType","rowsMount","colsMount"])),{},{gridTemplateRows:function(){var e=Math.min(.15*this.appHeight,65);this.appHeight;return"".concat(e,"px 1fr 10px")},gridHeight:function(){return this.appHeight-75},gridWidth:function(){return this.appWidth}}),methods:Object(a["a"])(Object(a["a"])({},Object(h["c"])(["setMaxScore","switchGameType","setCurrentScore"])),{},{keydown:function(e){var t=e.key;switch(t){case"Escape":this.$emit("switchSettings");break;case"ArrowLeft":this.$refs.game2048.move("left");break;case"ArrowRight":this.$refs.game2048.move("right");break;case"ArrowUp":this.$refs.game2048.move("up");break;case"ArrowDown":this.$refs.game2048.move("down");break}},touchReset:function(){this.touchX=null,this.touchY=null},touchStart:function(e){var t=e.changedTouches;if(c.a.size(t)>1)return this.touchReset();this.touchX=t[0].clientX,this.touchY=t[0].clientY},touchEnd:function(e){var t=e.changedTouches;if(c.a.size(t)>1)return this.touchReset();var n=this.touchX-t[0].clientX,i=this.touchY-t[0].clientY;if(n||i){var s=Math.abs(n)>Math.abs(i);if(!(Math.max(Math.abs(n),Math.abs(i))<=10)){var r=s?n>0?"left":"right":i>0?"up":"down";c.a.invoke(this.$refs.game2048,"move",r),this.touchReset()}}}}),beforeMount:function(){document.addEventListener("keydown",this.keydown),document.addEventListener("touchstart",this.touchStart),document.addEventListener("touchend",this.touchEnd)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown),document.removeEventListener("touchstart",this.touchStart),document.removeEventListener("touchend",this.touchEnd)}},ne=te,ie=(n("e133"),Object(y["a"])(ne,G,P,!1,null,null,null)),se=ie.exports,re={components:{LayoutContent:se,AppModal:$,SettingsDesktop:z,SettingsMobile:T,Icon:O},mixins:[d,m,p,f],data:function(){return{lodash:c.a,isClosedSettings:!0,openedModalName:null}},watch:{isDesktop:function(e){e&&"settings"==this.openedModalName&&(this.openedModalName=null,this.isClosedSettings=!1)},openedModalName:function(e,t){e||"endgame"!==t||c.a.invoke(this.$refs.layoutContent,"$refs.game2048.getRandomCell")}},computed:Object(a["a"])({},Object(h["d"])(["currentScore","maxScore"])),beforeMount:function(){var e=this;document.body.addEventListener("click",(function(t){document.body===t.path[0]&&e.isDesktop&&(e.isClosedSettings||(e.isClosedSettings=!0))}))}},ae=re,oe=(n("5c0b"),Object(y["a"])(ae,s,r,!1,null,null,null)),ce=oe.exports,ue=n("9483");Object(ue["a"])("".concat("/minis-2048/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var le=n("0e44"),he=n("0759"),de=n.n(he),me=(n("b64b"),{state:function(){return{minisLang:"ru",minisThemeMain:null,minisThemeSpecial:null,themesJSON:{},translateJSON:{},minisJSON:{}}},getters:{themeMain:function(e){var t,n,i=e.themesJSON,s=e.minisThemeMain,r=null===i||void 0===i||null===(t=i.main)||void 0===t?void 0:t[s];return r?i.main[s]:null===i||void 0===i||null===(n=i.main)||void 0===n?void 0:n.dark},themeSpecialName:function(e){var t,n,i,s=e.themesJSON,r=e.minisThemeSpecial,a=null===s||void 0===s||null===(t=s.special)||void 0===t||null===(n=t.colors)||void 0===n?void 0:n[r];return a?r:null===s||void 0===s||null===(i=s.special)||void 0===i?void 0:i.default},themeSpecial:function(e,t){var n,i,s=e.themesJSON,r=t.themeSpecialName;return null===s||void 0===s||null===(n=s.special)||void 0===n||null===(i=n.colors)||void 0===i?void 0:i[r]}}});me.mutations={switchTheme:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n="main"==t?"minisThemeMain":"minisThemeSpecial",s="main"==t?e.themesJSON.main:e.themesJSON.special.colors,r=Object.keys(s),a=r.indexOf(e[n]),o=(a+1)%r.length;i["a"].set(e,n,r[o])},switchLang:function(e){var t=Object.keys(e.translateJSON),n=t.indexOf(e.minisLang),s=(n+1)%t.length;i["a"].set(e,"minisLang",t[s])},initMinis:function(e,t){var n=t.translateJSON,s=t.minisJSON,r=t.themesJSON;i["a"].set(e,"minisJSON",s),i["a"].set(e,"translateJSON",n),i["a"].set(e,"themesJSON",r)}};var pe=me,fe=location.pathname.split("/")[1],ge={};i["a"].use(h["a"]),ge.state=function(){return{projectKey:fe.split("-").slice(-1)[0],maxScore:0,currentScore:0,gameTypesList:["raindrops","square"],gameType:"raindrops",rowsMount:4,colsMount:4}},ge.mutations={setCurrentScore:function(e,t){return i["a"].set(e,"currentScore",t)},setMaxScore:function(e,t){e.maxScore>=t||i["a"].set(e,"maxScore",t)},switchGameType:function(e){var t=c.a.indexOf(e.gameTypesList,e.gameType),n=(t+1)%e.gameTypesList.length;i["a"].set(e,"gameType",e.gameTypesList[n])},setColsMount:function(e,t){return i["a"].set(e,"colsMount",t)},setRowsMount:function(e,t){return i["a"].set(e,"rowsMount",t)}};var ve=["minis.minisThemeMain","minis.minisThemeSpecial","minis.minisLang","minis.themesJSON","minis.translateJSON","minis.minisJSON"],be=["maxScore","gameType","rowsMount","colsMount"];ge.modules={minis:pe},ge.plugins=[de()({predicate:function(){return[].concat(ve,be)}}),Object(le["a"])({paths:ve,key:"minis"}),Object(le["a"])({paths:be,key:fe})];var Se=new h["a"].Store(ge);i["a"].config.productionTip=!1,new i["a"]({store:Se,render:function(e){return e(ce)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";n("9c0c")},"6dbd":function(e,t,n){"use strict";n("229b")},"72b7":function(e,t,n){"use strict";n("b357")},"9c0c":function(e,t,n){},b357:function(e,t,n){},e133:function(e,t,n){"use strict";n("eed6")},e3aa:function(e,t,n){},e509:function(e,t,n){},e59a:function(e,t,n){"use strict";n("e3aa")},eb40:function(e,t,n){"use strict";n("f82a")},eed6:function(e,t,n){},f5ca:function(e,t,n){},f5da:function(e,t,n){"use strict";n("f5ca")},f82a:function(e,t,n){},f937:function(e,t,n){"use strict";n("e509")}});
//# sourceMappingURL=app.5f7c49ac.js.map